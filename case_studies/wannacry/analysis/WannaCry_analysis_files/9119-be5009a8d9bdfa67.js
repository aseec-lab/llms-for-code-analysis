"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9119],{59119:function(e,t,a){a.d(t,{FB:function(){return eq},ZP:function(){return eG},wS:function(){return eO}});var n,o,i,r,s=a(22830),c=a(35250),l=a(88798),d=a(21739),u=a(32542),p=a(77010),g=a(70079),f=a(32877),m=a(37469),h=a(78931),y=a(61888),x=a(70671),b=a(94968),v=a(95137),k=a(21722),w=a(39324),M=a(71209),j=a(38104),C=a(12155),_=a(60554),T=a(1454),S=a(32004),B=a(79579),N=a(89368),A=a(1821);function P(){var e=(0,v.Go)(),t=(0,_.useRouter)(),a=(0,x.Z)(),n=(0,s._)((0,g.useState)(),2),o=n[0],i=n[1],r=null!==e;if((0,g.useEffect)(function(){r||i(void 0)},[r]),!r)return null;var l=(0,c.jsx)("span",{className:"font-medium",children:e.ownerEmail}),d=e.hasActiveRequest||"success"===o;return(0,c.jsx)(N.Z,{isOpen:!0,onClose:y.noop,type:"warning",size:"custom",className:"max-w-3xl",title:(0,c.jsxs)("div",{className:"flex flex-col",children:[(0,c.jsx)("div",{className:"text-lg",children:(0,c.jsx)(S.Z,(0,M._)((0,w._)({},D.title),{values:{workspaceName:e.accountName}}))}),(0,c.jsx)("div",{className:"text-sm font-normal",children:(0,c.jsx)(S.Z,(0,w._)({},D.subtitle))})]}),icon:T.UIZ,primaryButton:(0,c.jsx)(B.ZP.Button,{onClick:(0,k._)(function(){return(0,j.Jh)(this,function(t){switch(t.label){case 0:i("requesting"),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,v.ZP.requestWorkspaceAccess(e.accountId)];case 2:return t.sent().success&&i("success"),[3,4];case 3:return t.sent(),i("error"),[3,4];case 4:return[2]}})}),color:"primary",title:a.formatMessage(D.requestAccessButton),disabled:d}),secondaryButton:(0,c.jsx)(B.ZP.Button,{onClick:(0,k._)(function(){var e;return(0,j.Jh)(this,function(a){switch(a.label){case 0:return[4,(0,C.signOut)({redirect:!1,callbackUrl:"/auth/login?next=".concat(encodeURIComponent(t.asPath))})];case 1:return e=a.sent(),t.push(e.url),[2]}})}),color:"neutral",title:a.formatMessage(D.signOutButton)}),children:(0,c.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,c.jsx)("div",{children:(0,c.jsx)(S.Z,(0,M._)((0,w._)({},D.emailBelongsToWorkspace),{values:{email:(0,c.jsx)("span",{className:"font-medium",children:e.userEmail})}}))}),(0,c.jsx)("div",{children:d?(0,c.jsx)(S.Z,(0,M._)((0,w._)({},D.activeRequestMessage),{values:{email:l}})):"requesting"===o?(0,c.jsx)(A.Z,{}):"error"===o?(0,c.jsx)(S.Z,(0,M._)((0,w._)({},D.contactWorkspaceAdminEmail),{values:{email:l}})):null})]})})}var D={title:{id:"RequestWorkspaceAccessModal.title",defaultMessage:"Request access to {workspaceName}",description:"Title for request access modal for a workspace"},subtitle:{id:"RequestWorkspaceAccessModal.subtitle",defaultMessage:"ChatGPT Enterprise has been enabled in your workspace",description:"Subtitle for request access modal mentioning ChatGPT Enterprise"},emailBelongsToWorkspace:{id:"RequestWorkspaceAccessModal.emailBelongsToWorkspace",defaultMessage:"{email} belongs to a ChatGPT Enterprise plan but currently has no access.",description:"Message shown telling the user their email is part of an enterprise workspace."},requestWorkspaceAccessMessage:{id:"RequestWorkspaceAccessModal.requestWorkspaceAccessMessage",defaultMessage:"You may request access to the workspace account.",description:"Message telling the user to request access to the workspace."},requestedWorkspaceAccessMessage:{id:"RequestWorkspaceAccessModal.requestedWorkspaceAccessMessage",defaultMessage:"Successfully requested access to the workspace account. Your workspace administrator at {email} may approve the request.",description:"Message telling the user they have requested access to the workspace."},contactWorkspaceAdminEmail:{id:"RequestWorkspaceAccessModal.contactWorkspaceAdminEmail",defaultMessage:"Could not request access. Contact your workspace administrator at {email} to request access to a new workspace account.",description:"Message telling the user who to contact to create a new account for the workspace."},signOutButton:{id:"RequestWorkspaceAccessModal.signOutButton",defaultMessage:"Sign Out",description:"Label for sign out button on modal"},requestAccessButton:{id:"RequestWorkspaceAccessModal.requestAccessButton",defaultMessage:"Request access",description:"Label for request access button on modal"},activeRequestMessage:{id:"RequestWorkspaceAccessModal.activeRequestMessage",defaultMessage:"You have a pending invite request for this workspace. Contact your workspace administrator at {email} to approve your request.",description:"Message telling the user they have an active request for the workspace."}},Z=a(75641),I=a(88809),E=a(25260),L=a(62509),W=a(19841),R=a(91530),V=a.n(R),q=a(19579),O=a.n(q),G=a(6038),U=a(32367),z=a(52696);function K(e){var t=e.workspace,a=(0,L.kP)().session,n=(0,h.ec)(function(e){return e.currentWorkspace}),o=(null==n?void 0:n.id)===t.id,i=(0,s._)((0,g.useState)(!1),2),r=i[0],l=i[1],d=(0,U.Z)().onEnableHistory,u=(0,g.useCallback)((0,k._)(function(){return(0,j.Jh)(this,function(e){return l(!0),h.w_.setCurrentWorkspace(t),d(),(0,I.M)(),[2]})}),[t,d]),p=(0,z.GA)(t),f=(0,c.jsx)("div",{className:"flex items-center justify-center",children:(0,c.jsx)(G.B0,{})});if(t.structure===Z.CZ.PERSONAL){if(!(null==a?void 0:a.user))return null;f=(0,c.jsx)("div",{className:"flex items-center justify-center",children:(0,c.jsx)(O(),{alt:"Profile",src:a.user.picture,width:38,height:38,className:"flex items-center justify-center rounded-sm"})})}return(0,c.jsxs)(o?"div":"button",{onClick:o?V():u,className:(0,W.default)({"flex w-full items-center gap-2 rounded-lg border border-gray-100 bg-gray-50 p-4 hover:bg-gray-100 focus:bg-gray-100 dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-700 dark:focus:bg-gray-700":!0,"bg-gray-50 dark:bg-gray-800":o}),children:[(0,c.jsxs)("div",{className:"flex w-full items-center gap-4",children:[f,(0,c.jsx)("div",{className:"inline align-top font-medium",children:p})]}),(0,c.jsx)("div",{className:"flex h-full items-center p-1",children:r?(0,c.jsx)(A.Z,{}):o?(0,c.jsx)(E.Z,{className:"icon-lg"}):(0,c.jsx)(T.Tfp,{className:"icon-lg my-auto"})})]})}function H(e){var t=e.data.map(function(e){return(0,c.jsx)(K,{workspace:e},e.id)});return(0,c.jsx)("div",{className:"flex w-full flex-col gap-2",children:t})}function F(){var e,t,a=(0,z._O)(),n=(0,L.kP)().session,o=null!==(t=null==n?void 0:null===(e=n.user)||void 0===e?void 0:e.email)&&void 0!==t?t:"";if(0===a.length)return null;var i=a.filter(function(e){return e.structure===Z.CZ.WORKSPACE});return(0,c.jsx)(N.Z,{isOpen:!0,onClose:V(),type:"success",size:"normal",title:(0,c.jsxs)("div",{className:"flex flex-col",children:[(0,c.jsx)(S.Z,(0,w._)({},Q.workspaceSwitcherTitle)),(0,c.jsx)("span",{className:"mt-0.5 text-sm text-gray-700 dark:text-gray-400",children:o})]}),children:(0,c.jsxs)("div",{className:"flex w-full flex-col items-center justify-between",children:[(0,c.jsx)(H,{data:a}),(0,c.jsx)("span",{className:"mt-4 text-sm text-gray-700 dark:text-gray-400",children:(0,c.jsx)(S.Z,(0,M._)((0,w._)({},Q.workspaceSwitcherDisclaimer),{values:{workspaces:(0,c.jsx)("span",{className:"contents font-bold",children:(0,c.jsx)(b.yX,{value:i.map(function(e){return e.name})})}),numWorkspaces:i.length}}))})]})})}var Q=(0,b.vU)({workspaceSwitcherTitle:{id:"workspaceSwitcher.title",defaultMessage:"Select a workspace",description:"title for account switcher modal"},workspaceSwitcherDisclaimer:{id:"workspaceSwitcher.disclaimer",defaultMessage:"You've been added to the {workspaces} {numWorkspaces, plural, one {workspace} other {workspaces}}. You can switch between workspaces at any time.",description:"disclaimer for account switcher modal"}}),J=a(80474),Y=a(44544),X=a(67273);function $(e){var t=e.children;return(0,c.jsxs)(J.zt,{children:[(0,c.jsx)(J.fC,{className:"radix-state-closed:animate-hide radix-state-open:animate-slideIn grid max-w-sm grid-cols-[auto_max-content] items-center gap-x-4 rounded-lg bg-white p-4 shadow-xs [grid-template-areas:_'title_action'_'description_action'] dark:bg-gray-950 sm:max-w-xl",open:!0,children:t}),(0,c.jsx)(J.l_,{className:"fixed bottom-0 right-0 z-50 m-0 flex max-w-[100vw] list-none flex-col gap-4 p-6 outline-none"})]})}var ee="oai-av-seen";function et(e){var t=e.onClose,a=e.ageVerificationDeadline;return(0,c.jsxs)($,{children:[(0,c.jsx)(J.Dx,{className:"text-sm font-medium [grid-area:_title]",children:(0,c.jsx)(S.Z,(0,M._)((0,w._)({},ea.ageVerificationTitle),{values:{deadline:null!=a?Math.floor(a/60/60/24):0,learnMoreLink:function(e){return(0,c.jsx)("a",{href:"https://help.openai.com/en/articles/8411987-why-am-i-being-asked-to-verify-my-age",target:"_blank",rel:"noreferrer",className:"cursor-pointer font-normal underline",children:e})}}}))}),(0,c.jsx)(J.aU,{altText:"Dismiss notification",asChild:!0,children:(0,c.jsx)(X.z,{as:"link",color:"primary",size:"small",onClick:function(){(0,Y.setCookie)(ee,"true",{maxAge:86400,path:"/"}),t()},to:"https://platform.openai.com/verify-age",openNewTab:!0,children:(0,c.jsx)(S.Z,(0,w._)({},ea.startVerification))})}),(0,c.jsx)(J.x8,{})]})}var ea=(0,b.vU)({ageVerificationTitle:{id:"ageVerificationBanner.title",defaultMessage:"Please verify your age in the next {deadline, plural, =0 {# days} one {# day} other {# days}}. Italian law requires you to prove you're old enough to use ChatGPT. <learnMoreLink>Learn more</learnMoreLink>.",description:"Explanation of why ChatGPT needs to verify age"},ageVerificationDescription:{id:"ageVerificationBanner.description",defaultMessage:"<learnMoreLink>Learn more</learnMoreLink>",description:"Link to learn more about why ChatGPT needs to verify age"},learnMoreLink:{id:"ageVerificationBanner.learnMoreLink",defaultMessage:"Learn more",description:"Link to learn more about why ChatGPT needs to verify age"},dismiss:{id:"ageVerificationBanner.dismiss",defaultMessage:"Dismiss",description:"Dismiss/close age verification ui Banner"},startVerification:{id:"ageVerificationBanner.startVerification",defaultMessage:"Start verification",description:"Start age verification process button"}}),en=a(4337),eo=a(46020);function ei(){var e=(0,en._)(["underline font-normal"]);return ei=function(){return e},e}function er(e){var t=e.onClose;return(0,c.jsxs)($,{children:[(0,c.jsx)(J.Dx,{className:"text-sm font-medium [grid-area:_title]",children:(0,c.jsx)(S.Z,(0,M._)((0,w._)({},ec.cookieConsentBannerTitle),{values:{privacyPolicyLink:function(e){return(0,c.jsx)(es,{href:"https://openai.com/policies/privacy-policy",target:"_blank",rel:"noreferrer",children:e})},learnMoreLink:function(e){return(0,c.jsx)(es,{href:"https://help.openai.com/articles/8077698-how-do-i-use-chatgpt-browse-with-bing-to-search-the-web",target:"_blank",rel:"noreferrer",children:e})},settingsPanel:function(e){return(0,c.jsx)(es,{$as:"button",onClick:function(){eo.vm.openModal(eo.B.Settings)},children:e})}}}))}),(0,c.jsxs)("div",{className:"flex gap-3",children:[(0,c.jsx)(X.z,{color:"neutral",size:"small",onClick:function(){t()},children:(0,c.jsx)(S.Z,(0,w._)({},ec.reject))}),(0,c.jsx)(X.z,{color:"primary",size:"small",onClick:function(){t()},children:(0,c.jsx)(S.Z,(0,w._)({},ec.accept))})]}),(0,c.jsx)(J.x8,{})]})}var es=a(21389).Z.a(ei()),ec=(0,b.vU)({cookieConsentBannerTitle:{id:"CookieConsentBanner.title",defaultMessage:"We use cookies to provide, improve, and protect our services. Visit our <privacyPolicyLink>privacy policy</privacyPolicyLink> to learn more. You can manage your cookie preferences in your <settingsPanel>settings panel</settingsPanel>. <learnMoreLink>Learn more</learnMoreLink>.",description:"Explanation of why ChatGPT needs to verify age"},reject:{id:"CookieConsentBanner.reject",defaultMessage:"Reject",description:"Reject analytics cookies button"},accept:{id:"CookieConsentBanner.accept",defaultMessage:"Accept",description:"Consent to analytics cookies button"}}),el=a(77311),ed=a(6948),eu=a(88327),ep="oai/apps/hasSeenOnboarding";function eg(e,t){return e===i.Workspace?"".concat(ep,"/").concat(e,"/").concat(t):"".concat(ep,"/").concat(e)}(n=i||(i={})).Personal="chat",n.Workspace="workspace";var ef=function(e,t){var a=(0,g.useCallback)(function(){ed.m.setItem(eg(e,t),new Date().toLocaleDateString("en-CA",{year:"numeric",month:"2-digit",day:"2-digit"}))},[e,t]),n=(0,s._)((0,g.useState)(null),2),o=n[0],r=n[1];(0,g.useEffect)(function(){var a=ed.m.getItem("".concat(ep,"/").concat(e));a||e!==i.Workspace||(a=ed.m.getItem(eg(e,t))),r(!!a&&a)},[e,t]);var c=(0,g.useCallback)(function(){return o?new Date(!0===o?"2022-12-14":o):o},[o]);return(0,g.useMemo)(function(){return{setHasSeenOnboarding:a,getHasSeenOnboardingDate:c}},[c,a])};function em(e){var t=e.onClose,a=e.scope,n=ef(a,(0,h.ec)(h.F_.workspaceId)).setHasSeenOnboarding,o=(0,g.useCallback)(function(){t(!0),n()},[t,n]);return a===i.Personal?(0,c.jsx)(ey,{onSubmit:o}):(0,c.jsx)(ex,{onSubmit:o})}var eh=function(e){var t=e.icon,a=e.title,n=e.body;return(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"flex flex-row items-center gap-1.5",children:[(0,c.jsx)("div",{children:t}),(0,c.jsx)("div",{className:"font-medium text-token-text-primary",children:a})]}),(0,c.jsx)("div",{className:"text-sm text-token-text-secondary",children:n})]})},ey=function(e){var t=e.onSubmit,a=(0,x.Z)();return(0,c.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,c.jsx)(eh,{icon:(0,c.jsx)(eu.wP,{isSolid:!0,className:"h-5 w-5 text-green-600"}),title:(0,c.jsx)(S.Z,(0,w._)({},eb.askAway)),body:(0,c.jsx)(S.Z,(0,w._)({},eb.askAwayBody))}),(0,c.jsx)(eh,{icon:(0,c.jsx)(eu.NJ,{className:"text-brand-purple"}),title:(0,c.jsx)(S.Z,(0,w._)({},eb.warning)),body:(0,c.jsx)(S.Z,(0,M._)((0,w._)({},eb.warningBody),{values:{article:function(e){return(0,c.jsx)("a",{href:"https://help.openai.com/en/articles/7039943-data-usage-for-consumer-services-faq",target:"_blank",className:"underline",rel:"noopener noreferrer",children:e})}}}))}),(0,c.jsx)(eh,{icon:(0,c.jsx)(eu.CJ,{className:"text-orange-300"}),title:(0,c.jsx)(S.Z,(0,w._)({},eb.accuracy)),body:(0,c.jsx)(S.Z,(0,w._)({},eb.accuracyBody))}),(0,c.jsx)("div",{className:"flex flex-row justify-end",children:(0,c.jsx)(B.mH,{title:a.formatMessage(eb.gettingStartedButton),onClick:t,color:"primary"})})]})},ex=function(e){var t=e.onSubmit,a=(0,x.Z)(),n=(0,h.ec)(function(e){return e.currentWorkspace}),o=null==n?void 0:n.name;return(0,c.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"font-medium text-token-text-primary",children:null!=o?(0,c.jsx)(S.Z,(0,w._)({values:{workspaceName:o}},eb.workspaceWelcome)):(0,c.jsx)(S.Z,(0,w._)({},eb.workspaceWelcomeNoName))}),(0,c.jsx)("div",{className:"text-sm text-token-text-secondary",children:(0,c.jsx)(S.Z,(0,w._)({},eb.workspaceWelcomeBody))})]}),(0,c.jsx)(eh,{icon:(0,c.jsx)(el.Z,{className:"icon-md text-brand-purple"}),title:(0,c.jsx)(S.Z,(0,w._)({},eb.workUse)),body:(0,c.jsx)(S.Z,(0,w._)({},eb.workUseBody))}),(0,c.jsx)(eh,{icon:(0,c.jsx)(eu.wP,{isSolid:!0,className:"h-5 w-5 text-green-600"}),title:(0,c.jsx)(S.Z,(0,w._)({},eb.askAway)),body:(0,c.jsx)(S.Z,(0,w._)({},eb.askAwayBody))}),(0,c.jsx)(eh,{icon:(0,c.jsx)(eu.CJ,{className:"text-orange-300"}),title:(0,c.jsx)(S.Z,(0,w._)({},eb.accuracy)),body:(0,c.jsx)(S.Z,(0,w._)({},eb.accuracyBody))}),(0,c.jsx)("div",{className:"flex flex-row justify-end",children:(0,c.jsx)(B.mH,{title:a.formatMessage(eb.gettingStartedButton),onClick:t,color:"primary"})})]})},eb=(0,b.vU)({askAway:{id:"onboarding.askAway",defaultMessage:"Ask away",description:"Title for the tip about what ChatGPT can do"},askAwayBody:{id:"onboarding.askAwayBody",defaultMessage:"ChatGPT can answer questions, help you learn, write code, brainstorm together, and much more.",description:"Body copy for the tip about what ChatGPT can do"},warning:{id:"onboarding.warning",defaultMessage:"Don’t share sensitive info",description:"Title for the warning about ChatGPT traning"},warningBody:{id:"onboarding.warningBody",defaultMessage:"Chat history may be reviewed or used to improve our services. Learn more about your choices in our <article>Help Center</article>.",description:"Body copy for the warning about ChatGPT traning"},accuracy:{id:"onboarding.accuracy",defaultMessage:"Check your facts",description:"Title for the warning about ChatGPT inaccuracy"},accuracyBody:{id:"onboarding.accuracyBody",defaultMessage:"While we have safeguards, ChatGPT may give you inaccurate information. It’s not intended to give advice.",description:"Body copy for the warning about ChatGPT inaccuracy"},gettingStartedButton:{id:"onboarding.gettingStartedButton",defaultMessage:"Okay, let’s go",description:"Button to accept the getting started modal"},workspaceWelcome:{id:"onboarding.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} Workspace",description:"Introduction welcome for workspace onboarding"},workspaceWelcomeNoName:{id:"onboarding.workspaceWelcomeNoName",defaultMessage:"Welcome to the your Workspace",description:"Introduction welcome for workspace onboarding when no Workspace name is available"},workspaceWelcomeBody:{id:"onboarding.workspaceWelcomeBody",defaultMessage:"Here you can use our latest models, with more capabilities, and fewer limits.",description:"Introduction welcome body for workspace onboarding"},workUse:{id:"onboarding.workUse",defaultMessage:"Made for use at work",description:"Title for the warning about ChatGPT business workspace use"},workUseBody:{id:"onboarding.workUseBody",defaultMessage:"By default, chats in this workspace are not used to train our AI models.",description:"Body copy for the warning about ChatGPT business workspace use"}}),ev=a(81949),ek=a(16920),ew=function(e){var t=e.onContinue,a=(0,x.Z)();return(0,c.jsx)(N.Z,{isOpen:!0,onClose:y.noop,type:"success",title:a.formatMessage(eT.chatgptTitle),description:a.formatMessage(eT.chatgptEnterpriseDescription),children:(0,c.jsx)(em,{onClose:function(){t()},scope:i.Workspace})})},eM=function(e){var t=e.onContinue,a=e.onSkip,n=(0,x.Z)();return(0,c.jsx)(N.Z,{isOpen:!0,onClose:y.noop,type:"success",title:n.formatMessage(eT.primaryRoleTitle),description:n.formatMessage(eT.tailorChatGPT),size:"custom",className:"max-w-lg",children:(0,c.jsx)(eC,{options:eN,onSkip:a,onSubmit:t})})},ej=function(e){var t=e.onContinue,a=e.onSkip,n=(0,x.Z)();return(0,c.jsx)(N.Z,{isOpen:!0,onClose:y.noop,type:"success",title:n.formatMessage(eT.workTypeTitle),description:n.formatMessage(eT.tailorChatGPT),size:"custom",className:"max-w-lg",children:(0,c.jsx)(eC,{options:eA,onSkip:a,onSubmit:t,multiSelect:!0})})};function eC(e){var t=e.options,a=e.onSkip,n=void 0===a?y.noop:a,o=e.onSubmit,i=void 0===o?y.noop:o,r=e.multiSelect,l=void 0!==r&&r,d=function(e,t){var a=e.indexOf(t);return -1===a?(0,ev._)(e).concat([t]):(0,ev._)(e.slice(0,a)).concat((0,ev._)(e.slice(a+1)))},u=(0,x.Z)(),p=(0,s._)((0,g.useState)([]),2),f=p[0],m=p[1],h=(0,g.useCallback)(function(e){var t,a=null!==(t=e.currentTarget.dataset.value)&&void 0!==t?t:"";l?m(d(f,a)):i(a)},[i,f,m,l]);return(0,c.jsxs)("div",{children:[l&&(0,c.jsx)("p",{className:"mx-2 text-sm text-gray-400",children:u.formatMessage(eT.selectAll)}),(0,c.jsx)("div",{className:"flex flex-col items-center justify-center",children:(0,c.jsx)("div",{className:"flex-wrap space-y-4",children:t.map(function(e){return(0,c.jsx)(X.z,{onClick:h,color:"none",size:"medium",className:"mx-2 ".concat(f.includes(e.id)?"bg-gray-500 text-gray-50":"bg-gray-50 hover:bg-gray-200"),"data-value":e.id,children:(0,c.jsx)(S.Z,(0,w._)({},e.displayValue))},e.id)})})}),(0,c.jsxs)("div",{className:"mt-4 flex flex-row justify-end",children:[(0,c.jsx)(B.mH,{title:u.formatMessage(eT.skipButton),onClick:n}),l&&(0,c.jsx)(B.mH,{title:u.formatMessage(eT.continueButton),onClick:function(){i(f)},disabled:0===f.length,color:"primary",className:"ml-4"})]})]})}function e_(e){var t=e.onClose,a=(0,s._)((0,g.useState)(0),2),n=a[0],o=a[1],i=(0,s._)((0,g.useState)({role:void 0,departments:void 0}),2),l=i[0],d=i[1],u=(0,h.ec)(h.F_.workspaceId),p=(0,L.kP)().session.user.id,f=function(){ek.m9.logEvent("chatgpt_biz_onboarding_skipped"),t()};switch(n){case r.InitialModal:return(0,c.jsx)(ew,{onContinue:function(){o(r.RoleModal)}});case r.RoleModal:return(0,c.jsx)(eM,{onContinue:function(e){d(function(t){return(0,M._)((0,w._)({},t),{role:e})}),o(r.DepartmentModal)},onSkip:f});case r.DepartmentModal:return(0,c.jsx)(ej,{onContinue:function(e){var a=(0,M._)((0,w._)({},l),{departments:e});t(),ek.m9.logEvent("chatgpt_biz_onboarding_completed"),v.ZP.updateWorkspaceUserOnboardingInformation(u,p,a)},onSkip:f});default:return(0,c.jsx)(c.Fragment,{})}}(o=r||(r={}))[o.InitialModal=0]="InitialModal",o[o.RoleModal=1]="RoleModal",o[o.DepartmentModal=2]="DepartmentModal";var eT=(0,b.vU)({chatgptTitle:{id:"onboarding.chatgptTitle",defaultMessage:"ChatGPT",description:"Title for the initial onboarding modal"},chatgptEnterpriseDescription:{id:"onboarding.chatgptEnterpriseDescription",defaultMessage:"Enterprise Edition",description:"Description for the ChatGPT Enterprise Edition"},primaryRoleTitle:{id:"onboarding.primaryRoleTitle",defaultMessage:"What's your primary role?",description:"Question asking the user about their primary role"},tailorChatGPT:{id:"onboarding.tailorChatGPT",defaultMessage:"This will help us tailor ChatGPT for you.",description:"Description explaining the reason for the questions"},workTypeTitle:{id:"onboarding.workTypeTitle",defaultMessage:"What kind of work do you do?",description:"Question asking the user about the kind of work they do"},selectAll:{id:"onboarding.selectAll",defaultMessage:"Select all that apply",description:"Instruction for multi-select options"},skipButton:{id:"onboarding.skipButton",defaultMessage:"Skip",description:"Label for the skip button"},continueButton:{id:"onboarding.continueButton",defaultMessage:"Continue",description:"Label for the continue button"}}),eS=(0,b.vU)({marketing:{id:"onboarding.departments.marketing",defaultMessage:"Marketing",description:"Department option for Marketing"},analytics:{id:"onboarding.departments.analytics",defaultMessage:"Data or Analytics",description:"Department option for Data or Analytics"},product:{id:"onboarding.departments.product",defaultMessage:"Product Management",description:"Department option for Product Management"},comms:{id:"onboarding.departments.comms",defaultMessage:"Communications",description:"Department option for Communication"},finance:{id:"onboarding.departments.finance",defaultMessage:"Finance or Accounting",description:"Department option for Finance or Accounting"},customer_experience:{id:"onboarding.departments.customer_experience",defaultMessage:"Customer Experience",description:"Department option for Customer Experience"},project_management:{id:"onboarding.departments.project_management",defaultMessage:"Project or Program Management",description:"Department option for Project or Program Management"},engineering:{id:"onboarding.departments.engineering",defaultMessage:"Engineering",description:"Department option for Engineering"},education_professional:{id:"onboarding.departments.education_professional",defaultMessage:"Education Professional",description:"Department option for Education Professional"},design:{id:"onboarding.departments.design",defaultMessage:"Design",description:"Department option for Design"},administrative:{id:"onboarding.departments.administrative",defaultMessage:"Administrative Assistant",description:"Department option for Administrative Assistant"},partnerships:{id:"onboarding.departments.partnerships",defaultMessage:"Partnerships",description:"Department option for Partnerships"},it:{id:"onboarding.departments.it",defaultMessage:"Information Technology (IT)",description:"Department option for Information Technology (IT)"},ops:{id:"onboarding.departments.ops",defaultMessage:"Operations",description:"Department option for Operations"},human_resources:{id:"onboarding.departments.human_resources",defaultMessage:"Human Resources",description:"Department option for Human Resources"},research:{id:"onboarding.departments.research",defaultMessage:"Research & Development",description:"Department option for Research & Development"},sales:{id:"onboarding.departments.sales",defaultMessage:"Sales",description:"Department option for Sales"},legal:{id:"onboarding.departments.legal",defaultMessage:"Legal",description:"Department option for Legal"},healthcare:{id:"onboarding.departments.healthcare",defaultMessage:"Healthcare Professional",description:"Department option for Healthcare Professional"},other:{id:"onboarding.departments.other",defaultMessage:"Other",description:"Department option for Other"}}),eB=(0,b.vU)({team_member:{id:"onboarding.role.team_member",defaultMessage:"Team Member/ Individual Contributor",description:"Label for the role: Team Member/ Individual Contributor"},manager:{id:"onboarding.role.manager",defaultMessage:"Manager",description:"Label for the role: Manager"},student:{id:"onboarding.role.student",defaultMessage:"Student",description:"Label for the role: Student"},executive:{id:"onboarding.role.executive",defaultMessage:"Executive",description:"Label for the role: Executive"},director:{id:"onboarding.role.director",defaultMessage:"Director",description:"Label for the role: Director"},business_owner:{id:"onboarding.role.business_owner",defaultMessage:"Business Owner",description:"Label for the role: Business Owner"},freelancer:{id:"onboarding.role.freelancer",defaultMessage:"Freelancer",description:"Label for the role: Freelancer"},other:{id:"onboarding.role.other",defaultMessage:"Other",description:"Label for the role: Other"}}),eN=[{id:"team_member",displayValue:eB.team_member},{id:"manager",displayValue:eB.manager},{id:"student",displayValue:eB.student},{id:"executive",displayValue:eB.executive},{id:"director",displayValue:eB.director},{id:"business_owner",displayValue:eB.business_owner},{id:"freelancer",displayValue:eB.freelancer},{id:"other",displayValue:eB.other}],eA=[{id:"marketing",displayValue:eS.marketing},{id:"analytics",displayValue:eS.analytics},{id:"product",displayValue:eS.product},{id:"comms",displayValue:eS.comms},{id:"engineering",displayValue:eS.engineering},{id:"education_professional",displayValue:eS.education_professional},{id:"finance",displayValue:eS.finance},{id:"customer_experience",displayValue:eS.customer_experience},{id:"project_management",displayValue:eS.project_management},{id:"design",displayValue:eS.design},{id:"administrative",displayValue:eS.administrative},{id:"it",displayValue:eS.it},{id:"ops",displayValue:eS.ops},{id:"human_resources",displayValue:eS.human_resources},{id:"research",displayValue:eS.research},{id:"sales",displayValue:eS.sales},{id:"partnerships",displayValue:eS.partnerships},{id:"legal",displayValue:eS.legal},{id:"healthcare",displayValue:eS.healthcare},{id:"other",displayValue:eS.other}],eP=function(e){var t=e.onClose,a=(0,x.Z)();return(0,c.jsx)(N.Z,{isOpen:!0,onClose:y.noop,type:"success",title:"ChatGPT",description:a.formatMessage(eZ.personalOnboardingSubheading),children:(0,c.jsx)(em,{onClose:t,scope:i.Personal})})};function eD(e){var t=e.ageVerificationDeadline,a=(0,s._)((0,g.useState)(0),2),n=a[0],o=a[1],r=(0,h.ec)(h.F_.workspaceId),l=ef(i.Personal).getHasSeenOnboardingDate,d=(0,h.ec)(h.F_.isBusinessWorkspace),u=ef(i.Workspace).getHasSeenOnboardingDate,p=0===(0,h.hz)().size?"loading":(0,Y.getCookie)(ee)||null==t?"hide":"show",f=0===(0,h.hz)().size?"loading":"hide",m=(0,h.$T)(),y=(0,v.Go)(),x=(0,h.ec)(h.F_.hasMultipleWorkspaces)&&null==r,b=(0,g.useMemo)(function(){return[{Component:F,getModalState:function(){return m?"loading":x?"show":"hide"}},{Component:P,getModalState:function(){return m?"loading":null!==y?"show":"hide"}},{Component:er,getModalState:function(){return f}},{Component:eP,getModalState:function(){if(d)return"hide";var e=l();return null===e?"loading":!1===e?"show":"hide"}},{Component:e_,getModalState:function(){if(!d)return"hide";var e=u();return null===e?"loading":!1===e?"show":"hide"}},{Component:et,getModalState:function(){return p}}]},[m,x,y,f,d,l,u,p]);(0,g.useEffect)(function(){b[n]&&"hide"===b[n].getModalState()&&o(b.findIndex(function(e){return"hide"!==e.getModalState()}))},[n,b]);var k=b[n];if(null==k)return null;var w=k.getModalState();if("loading"===w)return null;"hide"===w&&o(function(e){return e+1});var M=b[n].Component;return(0,c.jsx)(M,{onClose:function(){o(function(e){return e+1})},ageVerificationDeadline:t})}var eZ=(0,b.vU)({personalOnboardingSubheading:{id:"BlockingInitialModals.personalOnboardingSubheading",defaultMessage:"Tips for getting started",description:"Subheading for the Personal onbaording modal"}}),eI=a(6780),eE=a(10664),eL=function(e){var t=e.action;return(0,c.jsxs)("div",{className:"flex items-center justify-between overflow-hidden text-gray-600 dark:text-gray-300",children:[(0,c.jsx)("div",{className:"flex flex-shrink items-center overflow-hidden text-sm",children:(0,c.jsx)("div",{className:"truncate",children:(0,c.jsx)(S.Z,(0,w._)({},t.actionMessageDescriptor))})}),(0,c.jsx)("div",{className:"ml-3 flex flex-row gap-2",children:(0,eE.A3)(t.keyboardBinding).map(function(e,a){return(0,c.jsx)(eW,{keyName:e},"".concat(t.key,"-").concat(a))})})]})},eW=function(e){var t=e.keyName,a=(0,W.default)("my-2 flex h-8 items-center justify-center rounded-[4px] border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300");return t.length>1?t.length>3?(0,c.jsx)("div",{className:(0,W.default)(a,"min-w-[50px]"),children:(0,c.jsx)("span",{className:"text-xs",children:t})}):(0,c.jsx)("div",{className:(0,W.default)(a,"min-w-[32px]"),children:(0,c.jsx)("span",{className:"text-xs",children:t})}):(0,c.jsx)("div",{className:(0,W.default)(a,"min-w-[32px]"),children:(0,c.jsx)("span",{className:"text-sm",children:t})})},eR=(0,b.vU)({keyboardActionsModalTitle:{id:"KeyboardActionsModal.keyboardActionsModalTitle",defaultMessage:"Keyboard shortcuts",description:"Title of the keyboard shortcuts modal"}}),eV=function(){var e=(0,x.Z)(),t=(0,eo.tN)(function(e){return e.activeModals.has(eo.B.KeyboardActions)}),a=function(){eo.vm.closeModal(eo.B.KeyboardActions)},n=(0,eE.JS)(),o=(0,g.useMemo)(function(){var e=Math.ceil(n.length/2);return[n.slice(0,e),n.slice(e)]},[n]);return(0,c.jsx)(N.Z,{isOpen:t,onClose:a,type:"success",size:"custom",className:"md:max-w-[672px] lg:max-w-[796px] xl:max-w-4xl",closeButton:(0,c.jsx)(B.ZP.CloseButton,{onClose:a}),title:e.formatMessage(eR.keyboardActionsModalTitle),children:(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("div",{className:"grid grid-flow-row grid-cols-[repeat(auto-fit,minmax(250px,1fr))] gap-x-9",children:o.map(function(e,t){return(0,c.jsx)("div",{className:"flex flex-col overflow-hidden",children:e.map(function(e){return(0,c.jsx)(eL,{action:e},e.key)})},"col-".concat(t))})})})})},eq=Symbol("invalid path");function eO(e){var t,a=e.split(/[#?]/)[0];if("/"!==a){var n=/\/c\/([a-f0-9-]+)/.exec(a);return null!==(t=null==n?void 0:n[1])&&void 0!==t?t:eq}}function eG(e){var t=e.urlThreadId,a=e.clientThreadId,n=e.isUserInCanPayGroup,o=e.serviceStatus,i=e.serviceAnnouncement,r=e.canManageBrowserStorage,y=e.ageVerificationDeadline,x=(0,s._)((0,g.useState)(function(){return void 0!==t?t:void 0!==a?a:(0,m.OX)()}),2),b=x[0],v=x[1];void 0!==t&&b!==t&&m.tQ.getServerThreadId(b)!==t&&v(t),void 0!==t||(0,m.Zz)(b)||v((0,m.OX)());var k=(0,h.$T)(),w=(0,h.WY)(),M=(0,h.ec)(h.F_.workspaceId),j=(0,d.g)(function(e){return e.updateFlagValue}),C=(0,h.hz)(),_=C.has(f.PL),T=C.has(f.rX);(0,g.useEffect)(function(){_&&(p.Z.setPrefetchEnabled(T),p.Z.gatherData())},[_,T]),(0,g.useEffect)(function(){void 0!==n&&j("isUserInCanPayGroup",n)},[j,n]),(0,g.useEffect)(function(){(null==o?void 0:o.type)&&!1===w&&l.m.warning(o.message,{hasCloseButton:!0,duration:5})},[w,null==o?void 0:o.message,null==o?void 0:o.type]);var S=(0,g.useRef)(!1);return(0,g.useEffect)(function(){if(!k){var e=w?i.paid:i.public;if((null==e?void 0:e.type)&&(null==e?void 0:e.message)&&!S.current){S.current=!0;var t=e.message,a={hasCloseButton:!0,duration:15};switch(e.type){case"danger":l.m.danger(t,a);break;case"info":l.m.info(t,a);break;case"warning":l.m.warning(t,a)}}}},[i,k,w]),(0,c.jsxs)(u.gB.Provider,{value:null,children:[(0,c.jsx)(eD,{ageVerificationDeadline:y},M),(0,c.jsx)(eV,{}),(0,c.jsx)(eI.Z,{clientThreadId:b,setClientThreadId:v,canManageBrowserStorage:r})]})}},6780:function(e,t,a){a.d(t,{Z:function(){return P}});var n=a(39324),o=a(35250),i=a(13995),r=a(60554),s=a(70079),c=a(1454),l=a(32004),d=a(94968),u=a(95137),p=a(37469),g=a(46020),f=a(78931),m=a(32542),h=a(28735),y=a(10664),x=a(33669),b=a(2166),v=a(41932),k=a(61402),w=a(20522),M=a(80267),j=a(47393),C=a(82816),_=a(52481),T=a(82277),S=a(13090),B=a(25532),N=a(2295),A=a(42569);function P(e){var t,n=e.clientThreadId,l=e.setClientThreadId,d=e.initiallyHighlightedMessageId,b=e.continueConversationUrl,v=e.canManageBrowserStorage,P=null!==(0,s.useContext)(m.gB);(0,p.ax)(n);var Z=(0,p.XK)(n),I=(0,r.useRouter)(),E=(0,f.hz)(),L=(0,p.UL)(n),W=(0,s.useContext)(m.QL).historyDisabled,R=(0,A.Xy)(L.lastModelUsed,n),V=(0,i.NL)();(0,s.useEffect)(function(){return p.tQ.retainThread(n),function(){setTimeout(function(){V.invalidateQueries(["conversation",n])},0),p.tQ.releaseThread(n)}},[n,V]),(0,s.useEffect)(function(){g.vm.closeSharingModal()},[n,Z]);var q=(0,s.useCallback)(function(){l((0,p.OX)()),I.replace(R.tags.includes(A.S.GPT_4)?"/":"/?model=".concat(R.id),void 0,{shallow:!0})},[l,R.tags,R.id,I]);(0,y.yx)({resetThreadAction:q,clientThreadId:n});var O=(0,g.tN)(function(e){return e.activeSidebar}),G=(0,x.w$)();(0,s.useEffect)(function(){return function(){k.hx.abortAllRequests()}},[n]),t=(0,f.hz)().has("debug"),(0,s.useEffect)(function(){if(t)return(0,h.eR)(document,{keydown:function(e){e.target instanceof HTMLElement&&["input","textarea","select","button"].includes(e.target.tagName.toLowerCase())||"\\"!==e.key||g.vm.toggleActiveSidebar("debug")}})},[t]);var U=(0,N.iF)(),z=(0,s.useCallback)(function(){u.ZP.deleteConversations().then(function(){U()}),q(),"/"!==I.asPath&&I.replace({pathname:"/"},void 0,{shallow:!0})},[q,U,I]),K=(0,s.useRef)(L.threadId);(0,s.useEffect)(function(){L.threadId!==K.current&&(g.vm.setActiveSidebar(!1),K.current=L.threadId),k.hx.clear()},[L.threadId]);var H=(0,f.ec)(function(e){return e.currentWorkspace}),F=null==H?void 0:H.id,Q=(0,w.Ml)(),J=(0,s.useCallback)(function(e){Q&&null!=F&&Promise.all([a.e(8682),a.e(1533),a.e(2864)]).then(a.bind(a,60790)).then(function(t){return t.gizmoCreateGPTCompletionCallback(e,F,I,l)})},[Q,F,I,l]);return(0,o.jsxs)(T.Z,{showNavigation:!P,renderTitle:(0,o.jsx)(D,{clientThreadId:n}),renderMobileHeaderRightContent:(0,o.jsx)(S.js,{onClick:q,children:W?(0,o.jsx)(c.Bw1,{className:"icon-lg"}):(0,o.jsx)(c.OvN,{className:"icon-lg"})}),renderSidebar:(0,o.jsx)(j.Z,{canManageBrowserStorage:v,onDeleteHistory:z,onNewThread:q,children:(0,o.jsx)(M.Z,{activeId:W?void 0:Z,onNewThread:q})}),children:[(0,o.jsx)(B.Z,{initialThreadData:L,clientThreadId:n,initiallyHighlightedMessageId:d,continueConversationUrl:b,onCompletionFinished:J},n),(0,o.jsxs)(T.Z.Sidebars,{children:[E.has("debug")&&"debug"===O&&(0,o.jsx)(_.fv,{clientThreadId:n,slideOver:!G,onClose:function(){return g.vm.toggleActiveSidebar("debug")},isOpen:!0}),E.has("tools3_dev")&&(0,o.jsx)(C.ZP,{slideOver:!G})]})]})}function D(e){var t,a=e.clientThreadId,i=null!==(t=p.tQ.getTitle(a))&&void 0!==t?t:"New chat",r=(0,b.Z)(a,i,!0),d=r.resolvedTitle,u=r.isTypingEffect,g=(0,s.useContext)(m.QL),f=g.historyDisabled,h=g.toggleHistoryDisabled;return(0,o.jsx)(o.Fragment,{children:f?(0,o.jsxs)("button",{className:"flex cursor-pointer flex-row place-items-center items-center justify-center gap-3",onClick:function(){return h()},children:[(0,o.jsx)(c.$IY,{className:"icon-sm"}),(0,o.jsx)(l.Z,(0,n._)({},Z.enableChatHistory))]}):u&&null!=d?(0,o.jsx)(v.Z,{text:d}):null!=d?d:(0,o.jsx)(l.Z,(0,n._)({},Z.newChat))})}var Z=(0,d.vU)({enableChatHistory:{id:"navigation.enableChatHistory",defaultMessage:"Enable chat history",description:"Enable chat history button label"},newChat:{id:"navigation.newChat",defaultMessage:"New chat",description:"New chat header title"}})},10664:function(e,t,a){a.d(t,{A3:function(){return N},yx:function(){return I},JS:function(){return Z}});var n,o,i,r=a(96237),s=a(39324),c=a(81949),l=a(15858),d=a(11084),u=a(82534),p=a(90408),g=a(82081),f=a(61888),m=a(70079),h=a(94968),y=a(95954),x=a(73569),b=a(88798),v=a(32877),k=a(37469),w=a(46020),M=a(78931),j=a(52787),C=a(45248),_=m.useLayoutEffect,T=RegExp("```.*?\\n([\\s\\S]+?)\\n?```[^`]*$","gms");(n=o||(o={})).Core="Core",n.Chat="Chat",n.Settings="Settings";var S=(0,s._)({Mod:"mod",Comma:","},l.s),B=(i={},(0,r._)(i,S.Mod,/Mac|iPod|iPhone|iPad/.test(window.navigator.platform)?"⌘":"Ctrl"),(0,r._)(i,S.Comma,","),(0,r._)(i,S.Enter,"⏎"),(0,r._)(i,S.Escape,"Esc"),(0,r._)(i,S.ArrowUp,"↑"),(0,r._)(i,S.ArrowDown,"↓"),(0,r._)(i,S.ArrowLeft,"←"),(0,r._)(i,S.ArrowRight,"→"),(0,r._)(i,S.Backspace,"⌫"),(0,r._)(i,S.Delete,"⌦"),(0,r._)(i,S.Tab,"⇥"),(0,r._)(i,S.Control,"Ctrl"),(0,r._)(i,S.Shift,"Shift"),i),N=function(e){var t;return e.map(function(e){return null!==(t=B[e])&&void 0!==t?t:e})},A=(0,h.vU)({newChat:{id:"keyboardActions.newChat",defaultMessage:"Open new chat",description:"Keyboard shortcut to open a new chat"},focusPromptTextarea:{id:"keyboardActions.focusPromptTextarea",defaultMessage:"Focus chat input",description:"Keyboard shortcut to focus the chat input"},copyLastCodeBlock:{id:"keyboardActions.copyLastCodeBlock",defaultMessage:"Copy last code block",description:"Keyboard shortcut to copy the last code block in the chat"},copyLastResponse:{id:"keyboardActions.copyLastResponse",defaultMessage:"Copy last response",description:"Keyboard shortcut to copy the last response in the chat"},toggleCustomInstructions:{id:"keyboardActions.toggleCustomInstructions",defaultMessage:"Set custom instructions",description:"Keyboard shortcut to toggle custom instructions"},navigationToggle:{id:"keyboardActions.navigationToggle",defaultMessage:"Toggle sidebar",description:"Keyboard shortcut to toggle navigation"},deleteChat:{id:"keyboardActions.deleteChat",defaultMessage:"Delete chat",description:"Keyboard shortcut to delete chat"},toggleKeyboardActions:{id:"keyboardActions.toggleKeyboardActions",defaultMessage:"Show shortcuts",description:"Keyboard shortcut to toggle keyboard actions"}}),P=function(e){var t=e.resetThreadAction,a=e.clientThreadId,n=e.features;return[{key:"newChat",action:t||f.noop,actionMessageDescriptor:A.newChat,group:o.Core,keyboardBinding:[S.Mod,S.Shift,"o"],altKeyboardBindings:[[S.Mod,"k"]]},{key:"focusPromptTextarea",action:x.go,actionMessageDescriptor:A.focusPromptTextarea,group:o.Chat,keyboardBinding:[S.Shift,S.Escape]},{key:"copyLastCodeBlock",action:function(){if(null!=a)for(var e=k.tQ.getThreadCurrentLeafId(a),t=k.tQ.getThreadConversationTurns(a,e),n=t.length-1;n>=0;n--){var o=t[n].messages.reduce(function(e,t){return null==t.err&&t.message.author.role===y.uU.Assistant&&"all"===t.message.recipient?e+(e?"\n\n":"")+(0,j.RR)(t.message):e},""),i=(0,c._)(o.matchAll(T)),r=i.length?i[i.length-1][1]:null;if(null!=r){(0,d.S)(r).then(function(){b.m.success("Copied code block to clipboard")});break}}},actionMessageDescriptor:A.copyLastCodeBlock,group:o.Chat,keyboardBinding:[S.Mod,S.Shift,";"],altKeyboardBindings:[[S.Mod,S.Shift,":"]]},{key:"copyLastResponse",action:function(){null!=a&&k.tQ.copyLastMessageToClipboard(a,"keyboard").then(function(){b.m.success("Last response copied to clipboard")})},actionMessageDescriptor:A.copyLastResponse,group:o.Chat,keyboardBinding:[S.Mod,S.Shift,"c"]},{key:"toggleCustomInstructions",action:function(){return w.vm.toggleModal(w.B.UserContext)},actionMessageDescriptor:A.toggleCustomInstructions,group:o.Settings,keyboardBinding:[S.Mod,S.Shift,"i"],enabled:n.has(v.Rw)||n.has(v.uo)},{key:"navigationToggle",action:function(){return w.vm.toggleDesktopNavCollapsed()},actionMessageDescriptor:A.navigationToggle,group:o.Core,keyboardBinding:[S.Mod,S.Shift,"s"]},{key:"deleteChat",action:function(){return w.vm.toggleModal(w.B.DeleteChatConfirmation)},actionMessageDescriptor:A.deleteChat,group:o.Chat,keyboardBinding:[S.Mod,S.Shift,S.Backspace],altKeyboardBindings:[[S.Mod,S.Shift,S.Delete]]},{key:"toggleKeyboardActions",action:function(){return w.vm.toggleModal(w.B.KeyboardActions)},actionMessageDescriptor:A.toggleKeyboardActions,group:o.Settings,keyboardBinding:[S.Mod,"/"]}]},D=function(e){var t,a,n,o=(0,M.hz)().has(v.rk);return t=function(e){p.o.logEvent(g.a.keyboardShortcut,{keyboardActionKey:e.key}),u.U.addAction("chatgpt_keyboard_shortcut",{keyboardActionKey:e.key})},a={enabled:o},n=e.map(function(e){var t=e.keyboardBinding.join("+");if(e.altKeyboardBindings){t=[t];var a=e.altKeyboardBindings.map(function(e){return e.join("+")});t=t.concat(a)}return(0,C.ZP)(t,{byKey:!0})}),void _(function(){if((null==a?void 0:a.enabled)!==!1){var o=function(a){if(!a.repeat)for(var o=0;o<n.length;o++)n[o](a)&&(void 0===e[o].enabled||e[o].enabled)&&(a.preventDefault(),t(e[o]),e[o].action())},i=function(e){void 0!==e.key&&o(e)},r=document;return r.addEventListener("keydown",i),function(){r.removeEventListener("keydown",i)}}},[e,a])},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.resetThreadAction,a=e.clientThreadId,n=(0,M.hz)();return(0,m.useMemo)(function(){return P({features:n,resetThreadAction:t,clientThreadId:a}).filter(function(e){var t=e.enabled;return void 0===t||t})},[a,n,t])},I=function(e){D(Z({resetThreadAction:e.resetThreadAction,clientThreadId:e.clientThreadId}))}}}]);